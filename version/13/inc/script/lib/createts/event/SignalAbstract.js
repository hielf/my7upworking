define(["require","exports","./SignalConnection"],function(a,b,c){var d=function(){function a(a){this.next=null,this.fn=a}return a}(),e=function(){function a(a){void 0===a&&(a=null),this._deferredTasks=null,this._head=null!=a?new c(this,a):null}return a.prototype.hasListeners=function(){return null!=this._head},a.prototype.connect=function(a,b){void 0===b&&(b=!1);var d=this,e=new c(this,a);return this.dispatching()?this.defer(function(){d.listAdd(e,b)}):this.listAdd(e,b),e},a.prototype.disconnect=function(a){var b=this;this.dispatching()?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},a.prototype.defer=function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;var e=new d(a);null!=b?b.next=e:this._deferredTasks=e},a.prototype.willEmit=function(){var b=this._head;return this._head=a.DISPATCHING_SENTINEL,b},a.prototype.didEmit=function(a){this._head=a;var b=this._deferredTasks;for(this._deferredTasks=null;null!=b;)b.fn(),b=b.next},a.prototype.dispatching=function(){return this._head==a.DISPATCHING_SENTINEL},a.prototype.listAdd=function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},a.prototype.listRemove=function(a){for(var b=null,c=this._head;null!=c;){if(c==a){var d=c._next;return void(null==b?this._head=d:b._next=d)}b=c,c=c._next}},a.DISPATCHING_SENTINEL=new c(null,null),a}();return e});
//# sourceMappingURL=../../../../sourcemap/lib/createts/event/SignalAbstract.js.map