var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};define(["require","exports","./DisplayObject","../enum/DisplayType","../geom/Size"],function(a,b,c,d,e){var f=function(a){function b(b,c,d,e,f,g,h){void 0===c&&(c=0),void 0===d&&(d=0),a.call(this,c,d,e,f,g,h),this.type=7,this.loaded=!1,this.image=null,this.sourceRect=null,"string"==typeof b?(this.image=document.createElement("img"),this.image.src=b,this.image.complete?this.onLoad():this.image.onload=this.onLoad.bind(this)):"canvas"==b.tagName.toLowerCase()?(this.image=b,this.onLoad()):(this.image=b,this.image.complete?this.onLoad():this.image.onload=this.onLoad.bind(this))}return __extends(b,a),b.prototype.onLoad=function(){this.loaded=!0,this.width||(this.width=this.image.width),this.height||(this.height=this.image.height),this._parentSizeIsKnown&&this.onResize(new e(this.parent.width,this.parent.height)),this.dispatchEvent(b.EVENT_ONLOAD)},b.prototype.isVisible=function(){var a=this.cacheCanvas||this.loaded;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&a)},b.prototype.draw=function(b,c){if(a.prototype.draw.call(this,b,c))return!0;if(this.loaded){var d=this.sourceRect;d?b.drawImage(this.image,d.x,d.y,d.width,d.height,0,0,d.width,d.height):b.drawImage(this.image,0,0)}return!0},b.prototype.getBounds=function(){var b=a.prototype.getBounds.call(this);if(b)return b;var c=this.sourceRect||this.image;return this.loaded?this._rectangle.initialize(0,0,c.width,c.height):null},b.prototype.clone=function(){var a=new b(this.image);return this.sourceRect&&(a.sourceRect=this.sourceRect.clone()),this.cloneProps(a),a},b.prototype.toString=function(){return"[Bitmap (name="+this.name+")]"},b.EVENT_ONLOAD="onload",b}(c);return f});
//# sourceMappingURL=../../../../sourcemap/lib/easelts/display/Bitmap.js.map