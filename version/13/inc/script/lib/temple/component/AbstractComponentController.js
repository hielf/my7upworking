var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};define(["require","exports","lib/temple/events/EventDispatcher"],function(a,b,c){var d=function(a){function b(b,c){a.call(this),this._components=[],this._subscriptions=[],this.element=b,"undefined"!=typeof c&&(this.options=c)}return __extends(b,a),b.prototype.applyThreeWayBinding=function(a,b){ko.isObservable(a)&&this._subscriptions.push(a.subscribe(b)),b(ko.unwrap(a))},b.prototype.setTemplate=function(a){void 0!=a&&(ko.cleanNode(this.element),ko.virtualElements.emptyNode(this.element),this.template=a,$(a).filter(":not(text)").length>1&&console.error("Component template has multiple root elements. Knockout bindings will only be applied to the first root element!"),ko.virtualElements.setDomNodeChildren(this.element,ko.utils.parseHtmlFragment(a)),ko.applyBindings(this.viewModel,ko.virtualElements.firstChild(this.element)),this.element=ko.virtualElements.firstChild(this.element))},b.prototype.setViewModel=function(a){this.viewModel=a,this.viewModel.setController(this)},b.prototype.init=function(){},b.prototype.registerComponent=function(a){this._components.push(a)},b.prototype.destruct=function(){if(!this.isDestructed()&&(ko.cleanNode(this.element),this.viewModel&&(this.viewModel.destruct(),this.viewModel=null),this.element=null,this.options=null,this.template=null,this.eventNamespace=null,this._subscriptions)){for(var b=0;b<this._subscriptions.length;b++)this._subscriptions[b].dispose();this._subscriptions=null}a.prototype.destruct.call(this)},b}(c);return d});
//# sourceMappingURL=../../../../sourcemap/lib/temple/component/AbstractComponentController.js.map